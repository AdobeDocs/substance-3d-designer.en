<header><meta name="title" content="User Preferences - Automating Setup | Substance 3D Designer"><meta name="description" content=""><meta name="helpx_description" content="Designer > Pipeline and Project Configuration > User Preferences - Automating Setup"></header><body><div class="dexter-Position is-Editor-false" daa-im="true" daa-lh="Helpx In-article Navigation" data-animations="[]" id="root_content_flex_items_position" role="">
<div class="aem-Grid aem-Grid--12 aem-Grid--default--12">
<div class="text first-heading aem-GridColumn aem-GridColumn--default--12">
<div class="cmp-text">
<h1 id="mainpagetitle">User Preferences - Automating Setup</h1>
</div>
</div>
<div class="flex aem-GridColumn aem-GridColumn--default--12">
<style>
    
    #root_content_flex_items_position_position-par_dynamic_grid > .dexter-FlexContainer-Items {
        
        margin: -8px;
    }
    
    
    
    #root_content_flex_items_position_position-par_dynamic_grid > .dexter-FlexContainer-Items > * {
        border: 0 solid transparent; border-width: 8px;}
    
    
        #root_content_flex_items_position_position-par_dynamic_grid > .dexter-FlexContainer-Items > *:nth-child(1) {
            flex: 1 1 1%; max-width: 100%; 
            min-height: auto;
            }
        #root_content_flex_items_position_position-par_dynamic_grid > .dexter-FlexContainer-Items > *:nth-child(2) {
            width: 25%; max-width: 25%; flex: 1 1 auto;
            min-height: auto;
            }
    
    
    
    
    
    
    

    
    
    
    
    
    

    
    

    
    

    
    

</style>
<div class="dexter-FlexContainer dexter-FlexContainer--GapWrapper" id="root_content_flex_items_position_position-par_dynamic_grid" role="">
<div class="dexter-FlexContainer-Items dexter-FlexContainer--mobileJustifyStretch dexter-FlexContainer--mobileAlignAlignmentStretch dexter-FlexContainer--mobileAlignContentStretch dexter-FlexContainer--mobileAlignItemContentStart">
<div class="text">
<div class="cmp-text">
<p>The user_preferences.xml file contains all user-specific settings outside of the ones defined in a <a href="/substance-3d-designer/pipeline-and-project-configuration/project-configuration-files-sbsprj.html">Project Configuration</a>. These mainly relate to specific UI and performance settings.</p><p>The only relevant setting to change is the <a href="/substance-3d-designer/pipeline-and-project-configuration/configuration-list-sbscfg.html">Configuration File</a> that contains a list of projects. This can be done in a few ways, as listed below.</p><p>Alternatively, you can completely bypass modifying the User Preferences, and do a session-based override of the SBSCFG file by using a command-line argument on the Designer shortcut, see below.</p>
</div>
</div>
<div class="image parbase">
<div class="image-wrapper" title="XML file icon">
<div>
<div class="dexter-Image dexter-Image-left">
<style>
        
    
        #root_content_flex_items_position_position-par_dynamic_grid_items_image { width:auto; }
    
    
        @media (min-width: 600px) {
            #root_content_flex_items_position_position-par_dynamic_grid_items_image { width:px; }
        }
    
    
        @media (min-width: 1200px) {
            #root_content_flex_items_position_position-par_dynamic_grid_items_image { width:px; }
        }
    

    </style>
<picture>
<source media="(min-width: 1200px)" srcset="https://helpx-prod.scene7.com/is/image/HelpxProd/xml-5?$png$&amp;jpegSize=200&amp;wid=800"/>
<source media="(min-width: 600px)" srcset="https://helpx-prod.scene7.com/is/image/HelpxProd/xml-5?$png$&amp;jpegSize=200&amp;wid=800"/>
<source media="(max-width: 599px)" srcset="https://helpx-prod.scene7.com/is/image/HelpxProd/xml-5?$png$&amp;jpegSize=100&amp;wid=599"/>
<img alt="XML file icon" class="" id="root_content_flex_items_position_position-par_dynamic_grid_items_image" src="xml-5.png" title="XML file icon"/>
</picture>
</div>
</div>
<p class="callouts">
</p>
</div>
<!-- Modal -->
</div>
</div>
</div>
</div>
<div class="horizontalRule aem-GridColumn aem-GridColumn--default--12">
<hr style="border-bottom: 2px solid #FBB03B;"/>
</div>
<div class="text aem-GridColumn aem-GridColumn--default--12">
<div class="cmp-text">
<h2>Permanent or session-based</h2>
<p>There are two different ways to configure Designer to use another <a href="/substance-3d-designer/pipeline-and-project-configuration/configuration-list-sbscfg.html">configuration file</a> than the default, both with advantages and disadvantages:</p>
<ul>
<li><b>Permanently modifying user_preferences.xml<br/>
</b>This file is located in <i>~User\AppData\Local\Adobe\Adobe Substance 3D Designer </i>for Windows. If you modify it, Designer will always use what is defined there, regardless of how, when or where you start it. Making changes requires modifying the XML again, both of which are described below, and tend to be a bit involved.</li>
<li><b>Temporarily setting the session through a command-line argument<br/>
</b>Designer can take a command-line argument on startup to override the SBSCFG file for that session (see below for how). It's a simple, elegant solution, and allows for switching projects in a much quicker way than through modifying an XML. The danger is that if you open through multiple shortcuts (for example Start Menu and Desktop on Windows), you can have different results without it being entirely obvious. On top of that, it's not as tamper-proof, as users can delete, move or modify their shortcuts much easier than their user_preferences.xml. </li>
</ul>
</div>
</div>
<div class="horizontalRule aem-GridColumn aem-GridColumn--default--12">
<hr style="border-bottom: 2px solid #FBB03B;"/>
</div>
<div class="text aem-GridColumn aem-GridColumn--default--12">
<div class="cmp-text">
<h2>XML modification</h2>
</div>
</div>
<div class="text aem-GridColumn aem-GridColumn--default--12">
<div class="cmp-text">
<h3>Manually modifying preferences</h3>
<p>If there is no automated setup, or for testing purposes, one can manually go to <b>Edit &gt; Preferences...</b> and then click the "<b>Projects</b>" section on the left. </p>
</div>
</div>
<div class="image parbase aem-GridColumn aem-GridColumn--default--12">
<div class="image-wrapper" title="Project settings">
<div>
<div class="dexter-Image dexter-Image-left">
<style>
        
    
        #root_content_flex_items_position_position-par_image { width:auto; }
    
    
        @media (min-width: 600px) {
            #root_content_flex_items_position_position-par_image { width:auto; }
        }
    
    
        @media (min-width: 1200px) {
            #root_content_flex_items_position_position-par_image { width:auto; }
        }
    

    </style>
<picture>
<source media="(min-width: 1200px)" srcset="https://helpx-prod.scene7.com/is/image/HelpxProd/preferences-ui?$png$&amp;jpegSize=200&amp;wid=1028"/>
<source media="(min-width: 600px)" srcset="https://helpx-prod.scene7.com/is/image/HelpxProd/preferences-ui?$png$&amp;jpegSize=200&amp;wid=1028"/>
<source media="(max-width: 599px)" srcset="https://helpx-prod.scene7.com/is/image/HelpxProd/preferences-ui?$png$&amp;jpegSize=100&amp;wid=599"/>
<img alt="Project settings" class="" id="root_content_flex_items_position_position-par_image" src="preferences-ui.png" title="Project settings"/>
</picture>
</div>
</div>
<p class="callouts">
</p>
</div>
<!-- Modal -->
</div>
<div class="text aem-GridColumn aem-GridColumn--default--12">
<div class="cmp-text">
<p>The button marked in red allows the user to choose a different<a href="/substance-3d-designer/pipeline-and-project-configuration/configuration-list-sbscfg.html"> SBSCFG file</a>.</p>
</div>
</div>
<div class="text aem-GridColumn aem-GridColumn--default--12">
<div class="cmp-text">
<h3>Modifying through script</h3>
<p>Just like the Project and Configuration files, the user preferences is a structured XML, with the relevant setting clearly identifiable. Rather than modifying through a text editor like Notepad++ or Sublime Text, it is very well suited for modification through an external scripted setup.</p>
<p>The advantage of scripting is user don't have to do anything else than clicking a button, and if a sufficiently complicated system is created it's possible to manage and swap project easily without any need to manage files and settings manually.</p>
<p>The relevant line looks like this:</p>
</div>
</div>
<div class="codeblock parbase aem-GridColumn aem-GridColumn--default--12"><div></div>
<pre data-enlighter-language="xml" data-gutter="true" data-line-wrap="true">  &lt;configuration&gt; 
   &lt;configurationfile&gt;file:///C:/Users/John/AppData/Local/Adobe/Adobe Substance 3D Designer/default_configuration.sbscfg&lt;/configurationfile&gt; 
  &lt;/configuration&gt;</pre>
</div>
<div class="text aem-GridColumn aem-GridColumn--default--12">
<div class="cmp-text">
<h4>Python example</h4>
<p>The following is a simple Python 2.7 example function for Windows that modifies the user_preferences.xml for another configuration file. This permanently alters the value until changed back. The function SetConfigurationFile can then be called with the path of your custom sbscfg file as a parameter.</p>
<p>A python script allows for powerful, clean code, and can be easily integrated elsewhere, but the downside is that for a user to run it, it needs to be compiled to an executable, or the user needs a Python deployment.</p>
</div>
</div>
<div class="codeblock parbase aem-GridColumn aem-GridColumn--default--12"><div></div>
<pre data-enlighter-language="plain" data-gutter="true">import xml.etree.ElementTree as ElementTree 
import os 
 
##Example Python script for changing Substance 3D Designer user preference file## 
 
def SetConfigurationFile(p_ConfigPath): 
    #Check is the path passed as parameter exists. 
    if(os.path.isfile(p_ConfigPath)): 
        # replace backslashes by forwardslahes to ensure consistency 
        p_ConfigPath = p_ConfigPath.replace("\", "/") 
        #get Local Appadata path from Environment variables, construct full path to user_preferences.xml and check if it exists. 
        m_AppDataPath = os.environ.get('LOCALAPPDATA') 
        if m_AppDataPath != None: 
            m_UserPrefsPath = os.path.join(m_AppDataPath, str("Adobe/Adobe Substance 3D Designer/user_preferences.xml")) 
            if(os.path.isfile(m_UserPrefsPath)): 
                #read XML elementtree from file, find correct element until we get to the actual line that defines the configurationfile path 
                m_PrefsTree = ElementTree.parse(m_UserPrefsPath) 
                m_PrefsRoot = m_PrefsTree.getroot() 
                m_PrefsElement = m_PrefsRoot.find("preferences") 
                m_XMLError = True 
                if(m_PrefsElement != None): 
                    m_ConfigElement = m_PrefsElement.find("configuration") 
                    if(m_ConfigElement != None): 
                        m_ConfigFileElement = m_ConfigElement.find("configurationfile") 
                        if(m_ConfigFileElement != None): 
                            m_XMLError = False 
                            #Check if path is already set, to avoid double work 
                            if m_ConfigFileElement.text.replace("file:///","") == p_ConfigPath: 
                                print "configurationfile is already set to desired path. Aborting." 
                                return True 
                            else: 
                                #construct correctly formatted path, insert into elementtree 
                                m_ConfigPath = str("file:///" + p_ConfigPath) 
                                m_ConfigFileElement.text = m_ConfigPath 
 
                                #Write to file 
                                m_XMLString = str("&lt;?xml version="1.0" encoding="UTF-8"?&gt;n") + ElementTree.tostring(m_PrefsRoot, 'utf-8') 
                                m_File = open(m_UserPrefsPath,'w') 
                                m_File.write(m_XMLString) 
                                m_File.close() 
                                print "configuration file path succesfully changed!" 
                                return True 
                if m_XMLError: 
                    #if this flag was not set to false, we can assume something was missing or went wrong when walking through the XML 
                    print("Error: malformed content in user_preferences.xml!") 
                    return False 
            else: 
                print "Error: user_preferences.xml does not exist, try starting Substance 3D Designer first!" 
                return False 
        else: 
            print "Error: LocalAppData path returned None" 
            return False 
    else: 
        print "Error: Invalid Configuration File path!" 
        return False</pre>
</div>
<div class="horizontalRule aem-GridColumn aem-GridColumn--default--12">
<hr style="border-bottom: 2px solid #FBB03B;"/>
</div>
<div class="text aem-GridColumn aem-GridColumn--default--12">
<div class="cmp-text">
<h2>Command-line argument shortcut</h2>
<p>In a much simpler way, Designer can be told to use a specific SBSCFG on startup through the "--config-file" (optional) argument.</p>
</div>
</div>
<div class="text aem-GridColumn aem-GridColumn--default--12">
<div class="cmp-text">
<h3>Manual setup</h3>
<p>While not recommended to use a manual method in a production environment, for testing purposes this can be done fairly quickly if you have setup your SBSCFG file already.</p>
</div>
</div>
<div class="procedure parbase aem-GridColumn aem-GridColumn--default--12">
<div class="procedure">
<ol class="steps">
<li class="step">
<div class="step">
<div class="text">
<div class="cmp-text">
<p>Add a space</p>
</div>
</div>
</div>
</li>
<li class="step">
<div class="step">
<div class="text">
<div class="cmp-text">
<p>Add <span class="code">--config-file</span> after the path to designer in the Target section.</p>
</div>
</div>
</div>
</li>
<li class="step">
<div class="step">
<div class="text">
<div class="cmp-text">
<p>Add another space</p>
</div>
</div>
</div>
</li>
<li class="step">
<div class="step">
<div class="text">
<div class="cmp-text">
<p>Add your path, <i>wrapped in quotation marks</i> to avoid issues with spaces in your path</p>
</div>
</div>
</div>
</li>
<li class="step">
<div class="step">
<div class="text">
<div class="cmp-text">
<p>The result should be like this:</p>
<p><i><span class="code">"C:\Program Files\Adobe\Adobe Substance 3D Designer\Adobe Substance 3D Designer.exe" --config-file "C:\Dev\Substance\custom_configuration.sbscfg"</span></i></p>
</div>
</div>
</div>
</li>
</ol>
</div></div>
<div class="image parbase aem-GridColumn aem-GridColumn--default--12">
<div class="image-wrapper" title="Configuration file input in executable file properties">
<div>
<div class="dexter-Image dexter-Image-left">
<style>
        
    
        #root_content_flex_items_position_position-par_image_1397857687 { width:auto; }
    
    
        @media (min-width: 600px) {
            #root_content_flex_items_position_position-par_image_1397857687 { width:px; }
        }
    
    
        @media (min-width: 1200px) {
            #root_content_flex_items_position_position-par_image_1397857687 { width:px; }
        }
    

    </style>
<img alt="Configuration file input in executable file properties" class="" id="root_content_flex_items_position_position-par_image_1397857687" src="shortcutargument.jpg" title="Configuration file input in executable file properties"/>
</div>
</div>
<p class="callouts">
</p>
</div>
<!-- Modal -->
</div>
</div>
</div></body>